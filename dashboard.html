<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - FoodShare</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

        /* --- General Styling --- */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F0F7F4;
            margin: 0;
            display: flex;
            height: 100vh;
        }
        
        /* --- Sidebar --- */
        .sidebar {
            width: 260px;
            background-color: #fff;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border-right: 1px solid #e7e7e7;
            border-radius: 0 30px 30px 0;
            flex-shrink: 0; /* Prevents sidebar from shrinking */
        }

        .sidebar-logo {
            font-size: 1.5rem; font-weight: 700; color: #1a1a1a;
            margin-bottom: 3rem; display: flex; align-items: center;
        }

        .sidebar-logo svg { margin-right: 0.5rem; color: #28a745; }

        .sidebar-nav .nav-link {
            display: flex; align-items: center; text-decoration: none;
            color: #555; padding: 1rem; margin-bottom: 0.5rem;
            border-radius: 10px; font-weight: 500;
            transition: background-color 0.3s, color 0.3s;
            cursor: pointer;
        }
        
        .sidebar-nav .nav-link svg { margin-right: 1rem; }
        .sidebar-nav .nav-link:hover { background-color: #f5f5f5; color: #1a1a1a; }
        .sidebar-nav .nav-link.active { background-color: #E6F3E7; color: #1a1a1a; font-weight: 600; }
        
        .logout-link {
            text-decoration: none; color: #555; font-weight: 500;
            display: flex; align-items: center;
        }
        
        .logout-link svg { margin-right: 1rem; }
        
        /* --- Main Content --- */
        .main-content {
            flex-grow: 1;
            padding: 2rem 4rem;
            overflow-y: auto;
        }
        
        .main-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 3rem;
        }
        
        .header-title { font-size: 1.5rem; font-weight: 700; color: #1a1a1a; }
        
        .user-profile { display: flex; align-items: center; gap: 1.5rem; }
        .user-profile .notification-bell { cursor: pointer; color: #555; }
        .user-profile .profile-pic {
            width: 40px; height: 40px; border-radius: 50%;
            object-fit: cover; cursor: pointer;
        }
        
        /* --- Page Content Styling --- */
        .page { display: none; /* Hide pages by default */ }
        .page.active { display: block; /* Show active page */ }
        
        h1 { font-size: 2rem; font-weight: 600; color: #1a1a1a; margin-bottom: 2rem; }
        
        /* --- Form Styling --- */
        .form-group { margin-bottom: 1.5rem; }
        label { display: block; font-weight: 500; color: #333; margin-bottom: 0.5rem; }
        input[type="text"], input[type="date"] {
            width: 100%; max-width: 450px; padding: 0.8rem 1rem;
            border: 1px solid #e0e0e0; background-color: #fff; border-radius: 8px;
            font-size: 1rem; font-family: 'Poppins', sans-serif; box-sizing: border-box;
        }
        input::placeholder { color: #aaa; }
        .btn-submit {
            background-color: #28a745; color: #fff; padding: 0.8rem 2rem;
            border: none; border-radius: 10px; font-size: 1rem; font-weight: 600;
            cursor: pointer; transition: background-color 0.3s; float: right; margin-top: 1rem;
        }
        .btn-submit:hover { background-color: #218838; }

        /* --- Card Styling for Food and Orphanages --- */
        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .card {
            background-color: #fff;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.07);
        }
        .card h3 { margin-top: 0; color: #28a745; }
        .card p { margin: 0.5rem 0; color: #555; }
        .card p strong { color: #333; }
        .no-data-message { color: #777; font-size: 1.1rem; }

        /* --- Orphanage Search Bar --- */
        .search-bar { display: flex; gap: 1rem; margin-bottom: 2rem; max-width: 500px;}
        .search-bar input { max-width: none; flex-grow: 1;}
        .btn-search {
            background-color: #333; color: #fff; padding: 0.8rem 1.5rem;
            border: none; border-radius: 8px; font-weight: 500; cursor: pointer;
        }

    </style>
</head>
<body>

    <aside class="sidebar">
        <div>
            <div class="sidebar-logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15v-4H8l4-5v4h3l-4 5z"/></svg>
                FoodShare
            </div>
            <nav class="sidebar-nav">
                <a class="nav-link active" id="nav-donation">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 6-9 12-9 12s-9-6-9-12a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                    Donation
                </a>
                <a class="nav-link" id="nav-available-food">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
                    Available Food
                </a>
                <a class="nav-link" id="nav-orphanages">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    Orphanages Near Me
                </a>
            </nav>
        </div>
        <a href="index.html" class="logout-link">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 3H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h4"></path><polyline points="17 16 21 12 17 8"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
            Logout
        </a>
    </aside>

    <main class="main-content">
        <header class="main-header">
            <div class="header-title">FoodShare</div>
            <div class="user-profile">
                <svg class="notification-bell" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop" alt="Profile Picture" class="profile-pic">
            </div>
        </header>

        <!-- Page 1: Donation Form -->
        <section id="donation-page" class="page active">
            <h1>Donation</h1>
            <form id="donationForm">
                <div class="form-group">
                    <label for="foodItem">Food Item</label>
                    <input type="text" id="foodItem" placeholder="e.g., Cooked Rice and Curry" required>
                </div>
                <div class="form-group">
                    <label for="quantity">Quantity</label>
                    <input type="text" id="quantity" placeholder="e.g., 10 servings" required>
                </div>
                <div class="form-group">
                    <label for="expiryDate">Expiry Date</label>
                    <input type="date" id="expiryDate" required>
                </div>
                <div class="form-group">
                    <label for="location">Location</label>
                    <input type="text" id="location" placeholder="e.g., Downtown, Guntur" required>
                </div>
                <button type="submit" class="btn-submit">Donate</button>
            </form>
        </section>

        <!-- Page 2: Available Food -->
        <section id="available-food-page" class="page">
            <h1>Available Food</h1>
            <div id="food-list-container" class="card-container">
                <!-- Food cards will be dynamically inserted here -->
            </div>
        </section>

        <!-- Page 3: Orphanages Near Me -->
        <section id="orphanages-page" class="page">
            <h1>Orphanages Near Me</h1>
            <div class="search-bar">
                <input type="text" id="city-search" placeholder="Enter a city name (e.g., Guntur, Vijayawada)">
                <button class="btn-search" id="search-btn">Search</button>
            </div>
            <div id="orphanage-list-container" class="card-container">
                <!-- Orphanage cards will be dynamically inserted here -->
            </div>
        </section>
    </main>

    <script>
        // --- DATA STORAGE (simulating a database) ---
        let donationsData = [
            { id: 1, item: "Vegetable Biryani", quantity: "25 servings", expiry: "2025-10-27", location: "Brodipet, Guntur" },
            { id: 2, item: "Bread and Jam", quantity: "50 slices", expiry: "2025-10-28", location: "Benz Circle, Vijayawada" }
        ];

        const orphanagesData = [
            { id: 1, name: "Asha Jyothi Welfare Association", city: "Guntur", address: "Srinivasa Rao Thota, Guntur", needs: "Groceries, educational supplies" },
            { id: 2, name: "Child Home Care Center", city: "Guntur", address: "Lakshmipuram, Guntur", needs: "Fresh vegetables, rice" },
            { id: 3, name: "Care & Love Orphanage", city: "Vijayawada", address: "Ashok Nagar, Vijayawada", needs: "Milk, fruits, clothes" },
            { id: 4, name: "Hope for Children Shelter", city: "Vijayawada", address: "Gunadala, Vijayawada", needs: "School bags, notebooks" },
            { id: 5, name: "Good Shepherd Home", city: "Hyderabad", address: "Banjara Hills, Hyderabad", needs: "All types of food items" },
        ];


        // --- PAGE SWITCHING LOGIC ---
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.sidebar-nav .nav-link');
            const pages = document.querySelectorAll('.main-content .page');

            function showPage(pageId) {
                // Hide all pages
                pages.forEach(page => page.classList.remove('active'));
                // Deactivate all nav links
                navLinks.forEach(link => link.classList.remove('active'));

                // Show the target page
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.add('active');
                }

                // Activate the corresponding nav link
                const targetNavLink = document.getElementById(`nav-${pageId.split('-')[0]}`);
                if (targetNavLink) {
                    targetNavLink.classList.add('active');
                }
            }

            // Add click listeners to nav links
            document.getElementById('nav-donation').addEventListener('click', () => showPage('donation-page'));
            document.getElementById('nav-available-food').addEventListener('click', () => {
                renderAvailableFood();
                showPage('available-food-page');
            });
            document.getElementById('nav-orphanages').addEventListener('click', () => {
                renderOrphanages(); // Render all initially
                showPage('orphanages-page');
            });

        });

        // --- DONATION FORM LOGIC ---
        const donationForm = document.getElementById('donationForm');
        donationForm.addEventListener('submit', function(event) {
            event.preventDefault();

            const newDonation = {
                id: donationsData.length + 1,
                item: document.getElementById('foodItem').value,
                quantity: document.getElementById('quantity').value,
                expiry: document.getElementById('expiryDate').value,
                location: document.getElementById('location').value
            };
            
            donationsData.push(newDonation);
            alert('Thank you! Your donation has been listed.');
            donationForm.reset();
        });

        // --- AVAILABLE FOOD PAGE LOGIC ---
        function renderAvailableFood() {
            const container = document.getElementById('food-list-container');
            container.innerHTML = ''; // Clear previous content

            if (donationsData.length === 0) {
                container.innerHTML = '<p class="no-data-message">No available food donations at the moment.</p>';
                return;
            }

            donationsData.forEach(donation => {
                const foodCard = document.createElement('div');
                foodCard.className = 'card';
                foodCard.innerHTML = `
                    <h3>${donation.item}</h3>
                    <p><strong>Quantity:</strong> ${donation.quantity}</p>
                    <p><strong>Pickup Location:</strong> ${donation.location}</p>
                    <p><strong>Best Before:</strong> ${donation.expiry}</p>
                `;
                container.appendChild(foodCard);
            });
        }
        
        // --- ORPHANAGES PAGE LOGIC ---
        const searchBtn = document.getElementById('search-btn');
        const searchInput = document.getElementById('city-search');

        searchBtn.addEventListener('click', () => {
            const query = searchInput.value;
            renderOrphanages(query);
        });

        function renderOrphanages(cityQuery = '') {
            const container = document.getElementById('orphanage-list-container');
            container.innerHTML = '';

            const filteredOrphanages = orphanagesData.filter(org => 
                org.city.toLowerCase().includes(cityQuery.toLowerCase())
            );

            if (filteredOrphanages.length === 0) {
                container.innerHTML = `<p class="no-data-message">No orphanages found matching "${cityQuery}".</p>`;
                return;
            }

            filteredOrphanages.forEach(org => {
                const orgCard = document.createElement('div');
                orgCard.className = 'card';
                orgCard.innerHTML = `
                    <h3>${org.name}</h3>
                    <p><strong>City:</strong> ${org.city}</p>
                    <p><strong>Address:</strong> ${org.address}</p>
                    <p><strong>Current Needs:</strong> ${org.needs}</p>
                `;
                container.appendChild(orgCard);
            });
        }
        
        // Initial render on page load
        renderAvailableFood();
        renderOrphanages();

    </script>
</body>
</html>